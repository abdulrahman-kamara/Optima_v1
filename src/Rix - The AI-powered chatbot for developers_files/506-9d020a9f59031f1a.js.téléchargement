"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{54277:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(92777),c=r(82262),o=r(45959),a=r(63553),u=r(37247),s=r(67294),i=r(35944);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var c=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=function(t){(0,o.Z)(r,t);var e=f(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,c.Z)(r,[{key:"render",value:function(){return(0,i.tZ)("svg",{className:this.props.className,css:this.props.css||"",viewBox:"0 0 512 512",children:(0,i.tZ)("path",{d:"M272 416c-8.8 0-16 7.2-16 16v16c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112c8.8 0 16-7.2 16-16s-7.2-16-16-16H63.99c-35.35 0-64 28.65-64 64L0 448c0 35.3 28.65 64 64 64h160c35.35 0 64-28.65 64-64v-16c0-8.8-7.2-16-16-16zM502.6 86.63 425.35 9.38C419.4 3.371 411.2 0 402.7 0H288c-35.3 0-64 28.65-64 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3c0-8.5-3.4-16.67-9.4-22.67zM416 45.25 466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32H288c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.003 64c0 17.67 14.33 32 32 32H480v192z"})})}}]),r}(s.Component)},68668:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(92777),c=r(82262),o=r(45959),a=r(63553),u=r(37247),s=r(67294),i=r(35944);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var c=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=function(t){(0,o.Z)(r,t);var e=f(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,c.Z)(r,[{key:"render",value:function(){return(0,i.BX)("svg",{className:this.props.className,css:this.props.css||"",viewBox:"0 0 24 24",children:[(0,i.tZ)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,i.tZ)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"})]})}}]),r}(s.Component)},46484:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(92777),c=r(82262),o=r(45959),a=r(63553),u=r(37247),s=r(67294),i=r(35944);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var c=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=function(t){(0,o.Z)(r,t);var e=f(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,c.Z)(r,[{key:"render",value:function(){return(0,i.tZ)("svg",{className:this.props.className,css:this.props.css||"",viewBox:"0 0 448 512",children:(0,i.tZ)("path",{d:"M0 80c0-8.84 7.164-16 16-16h416c8.8 0 16 7.16 16 16s-7.2 16-16 16H16C7.164 96 0 88.84 0 80zm0 160c0-8.8 7.164-16 16-16h416c8.8 0 16 7.2 16 16s-7.2 16-16 16H16c-8.836 0-16-7.2-16-16zm432 176H16c-8.836 0-16-7.2-16-16s7.164-16 16-16h416c8.8 0 16 7.2 16 16s-7.2 16-16 16z"})})}}]),r}(s.Component)},91498:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(92777),c=r(82262),o=r(45959),a=r(63553),u=r(37247),s=r(67294),i=r(35944);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var c=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=function(t){(0,o.Z)(r,t);var e=f(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,c.Z)(r,[{key:"render",value:function(){return(0,i.tZ)("svg",{className:this.props.className,css:this.props.css||"",fill:"none",viewBox:"0 0 24 24",children:(0,i.tZ)("path",{d:"M3 11.449C3 16.724 7.169 21 12.312 21c3.959 0 7.34-2.534 8.688-6.107a8.074 8.074 0 0 1-3.515.8c-4.571 0-8.277-3.8-8.277-8.489 0-1.961.648-3.767 1.737-5.204C6.45 2.678 3 6.65 3 11.449Z",stroke:"stroke-current",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}}]),r}(s.Component)},21838:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(92777),c=r(82262),o=r(45959),a=r(63553),u=r(37247),s=r(67294),i=r(35944);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var c=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=function(t){(0,o.Z)(r,t);var e=f(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,c.Z)(r,[{key:"render",value:function(){return(0,i.tZ)("svg",{className:this.props.className,css:this.props.css||"",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.tZ)("path",{d:"M21 21L15.8091 15.8091M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}}]),r}(s.Component)},98397:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(92777),c=r(82262),o=r(45959),a=r(63553),u=r(37247),s=r(67294),i=r(35944);function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.Z)(t);if(e){var c=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=function(t){(0,o.Z)(r,t);var e=f(r);function r(){return(0,n.Z)(this,r),e.apply(this,arguments)}return(0,c.Z)(r,[{key:"render",value:function(){return(0,i.tZ)("svg",{className:this.props.className,css:this.props.css||"",fill:"none",viewBox:"0 0 24 24",children:(0,i.tZ)("path",{d:"M12 20v2m0-20v2m8 8h2M2 12h2m14 6 1.5 1.5m-15-15L6 6m12 0 1.5-1.5m-15 15L6 18m11-6a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z",stroke:"stroke-current",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}}]),r}(s.Component)},65336:function(t,e,r){r.d(e,{Fn:function(){return p},nL:function(){return l}});var n=r(59499),c=r(67294),o=r(36808),a=r.n(o),u=r(35944);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=(0,c.createContext)({}),l=function(t){var e=t.children,r=t.darkTheme,n=void 0!==r&&r,o=t.post,s=void 0===o?null:o,l=t.feedViewType,p=void 0===l?"classic":l,h=(0,c.useState)(n),d=h[0],v=h[1],m=(0,c.useReducer)((function(t,e){if(e._id)return i({},e);for(var r=i({},t),n=Object.keys(e),c=0;c<n.length;c++)r[n[c]]=e[n[c]];return r}),s),y=m[0],g=m[1],O=(0,c.useState)(p),Z=O[0],b=O[1];return(0,u.tZ)(f.Provider,{value:{isDarkTheme:d,toggleTheme:function(){v(!d)},setTheme:function(t){v(t)},post:y,mutatePost:g,feedViewType:Z,setFeedViewType:function(t){t&&(b(t),a().set("hn-view-type",t,{expires:1825}))}},children:e})},p=function(){return(0,c.useContext)(f)}},23176:function(t,e,r){r.r(e),r.d(e,{ImageAlignment:function(){return y},getBlurHash:function(){return m},imageReplacer:function(){return v},resizeImage:function(){return d},uploadImage:function(){return g},uploadImageByUrl:function(){return O}});var n=r(59499),c=r(50029),o=r(16835),a=r(87794),u=r.n(a),s=r(54871),i=r(10120),f=r(42029);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h="https://cdn.hashnode.com/res/hashnode/image/upload/v1659089761812/fsOct5gl6.png?auto=compress,format&format=webp",d=function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return r;if("?sz=200"===t)return h;var c=t.replace("hashnode.imgix.net","cdn.hashnode.com");if(-1!==t.indexOf("//res.cloudinary.com/hashnode")&&-1!==t.indexOf("/upload/")){var a=t.split("/upload/"),u=a[1].substring(a[1].lastIndexOf(".")+1);if(-1!==a[1].indexOf("ama_banners")){var s=a[1].substring(1,a[1].indexOf("/")),i=a[1].substring(a[1].indexOf("/")+1,a[1].lastIndexOf("."));c="".concat(a[0],"/upload/").concat(i,"/").concat(s,".").concat(u,"?auto=compress,format&format=webp")}else{var f=a[1].split("/");0===f[0].indexOf("v")&&(f[0]=f[0].substring(1)),c="".concat(a[0],"/upload/").concat(f[1].substring(0,f[1].lastIndexOf(".")),"/").concat(f[0],".").concat(u,"?auto=compress,format&format=webp")}c=c.replace("//res.cloudinary.com","//cdn.hashnode.com/res").replace("http://","https://")}else if(-1!==t.indexOf("//cdn.hashnode.com")&&-1!==t.indexOf("/upload/")){var l=t.split("/upload/");0!==l[1].indexOf("v")&&(c="".concat(l[0],"/upload/").concat(l[1].substring(l[1].indexOf("/")+1)))}if(-1===c.indexOf("//cdn.hashnode.com"))return c;var p="";if(Object.keys(e).forEach((function(t){"w"===t||"h"===t||"mask"===t||"corner-radius"===t?p+="".concat(t,"=").concat(e[t],"&"):"c"===t&&(p+="fit=crop&crop=".concat("face"===e[t]?"faces":"entropy","&"))})),"none"===e.q)return"".concat(c,"?").concat(p);if(-1!==c.indexOf("?")){var d=c.split("?"),v=(0,o.Z)(d,1);c=v[0],p+="&"!==d[1].slice(-1)?"".concat(d[1],"&"):d[1]}var m=-1!==t.indexOf(".gif"),y="auto=format,compress&gif-q=60&format=webm",g="auto=compress&fm=png";return p+=m?n?y:g:"auto=compress,format&format=webp","".concat(c,"?").concat(p)},v=function(t){var e=t.match(/<img src="([^"]+)"/g);if(!e)return t;var r={};return e.forEach((function(t){t=t.split("src=")[1].replace(/"/g,""),r[t]=d(t,{})})),Object.keys(r).forEach((function(e){t=t.replace(e,r[e])})),t},m=function(t){return-1===t.indexOf("?")?"".concat(t,"?fm=blurhash"):"".concat(t,"&fm=blurhash")},y={Center:"center",Left:"left",Right:"right"},g=function(){var t=(0,c.Z)(u().mark((function t(e){var r,n,c,a,l,h,d,v;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f.cM.debug("Uploading image",{file:e}),t.next=4,i.Lp.query(s.N9,{contentType:e.type},{requestPolicy:"network-only"}).toPromise();case 4:if(r=t.sent,n=r.data,!(c=r.error)){t.next=9;break}throw c;case 9:if(n){t.next=11;break}throw new Error("GraphQL response did not contain data");case 11:return a=n.imageUploadURL,l=a.url,h=a.fields,d=new FormData,Object.entries(p(p({},h),{},{file:e})).forEach((function(t){var e=(0,o.Z)(t,2),r=e[0],n=e[1];d.append(r,n)})),t.next=16,fetch(l,{method:"POST",body:d});case 16:if((v=t.sent).ok){t.next=26;break}return t.t0=f.cM,t.t1=v.status,t.next=22,v.text();case 22:throw t.t2=t.sent,t.t3={status:t.t1,bodyText:t.t2},t.t0.error.call(t.t0,"Uploading image to S3 failed",t.t3),new Error("S3 POST request returned non-200 status: ".concat(v.status));case 26:return t.abrupt("return",{image:"https://cdn.hashnode.com/".concat(h.key)});case 29:throw t.prev=29,t.t4=t.catch(0),f.cM.error("Error uploading image",{error:t.t4}),new Error("Error uploading image");case 33:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=(0,c.Z)(u().mark((function t(e,r){var n,c,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f.cM.debug("Uploading image by url",{url:e,unsplashImageId:r}),t.next=4,i.Lp.mutation(s.vx,{url:e,unsplashImageId:r}).toPromise();case 4:if(n=t.sent,c=n.data,!(o=n.error)){t.next=9;break}throw o;case 9:if(c){t.next=11;break}throw new Error("GraphQL response did not contain data");case 11:return t.abrupt("return",c.uploadImageByURL);case 14:throw t.prev=14,t.t0=t.catch(0),f.cM.error("Error uploading image by URL",{error:t.t0}),new Error("Error uploading image by URL");case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()}}]);